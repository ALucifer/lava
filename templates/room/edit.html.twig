{% extends 'layout.html.twig' %}

{% block title %}Edition {{ room.name }}{% endblock %}

{% block body %}
    <h1>Edit Room</h1>

    {{ form_start(form) }}
        {{ form_errors(form) }}

        {{ form_row(form.name) }}
        {{ form_row(form.nbPlaces) }}
        {{ form_row(form.state) }}

        <div id="commentState">
            {{ form_row(form.commentState) }}
        </div>

        <button class="btn">{{ button_label|default('Update') }}</button>
    {{ form_end(form) }}

    <a href="{{ path('room_index') }}">back to list</a>

    {{ include('room/_delete_form.html.twig') }}
{% endblock %}

{% block javascripts %}
    <script src="https://code.jquery.com/jquery-3.3.1.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            // check default state if true hide relative field
            if (!$("input[type=checkbox]").prop('checked')) {
                $('#commentState').hide();
            }

            //actions to do when checkbox change
            $("input[type=checkbox]").on('click', function () {

                if ($("input[type=checkbox]").prop('checked')) {
                    console.log($("input[type=checkbox]").prop('checked'))
                    $('#commentState').show();
                }
                else {
                    $('#commentState').hide();
                }
            })
        });
    </script>
{% endblock %}
