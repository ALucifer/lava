{% extends 'layout.html.twig' %}

{% block content %}
    <div class="row">
       <div class="col-6 offset-3">
         <table class="table">
            <thead>
            <tr>
               <th>Date</th>
               <th class="text-center">Etat demande</th>
               <th></th>
            </tr>
            </thead>
            <tbody>
            {% for reservation in reservations %}
               <tr>
                  <td>
                      <span style="font-weight: bolder">From :</span>{{ reservation.start ? reservation.start|date('Y-m-d H:i') : '' }}
                      <span style="font-weight: bolder">To :</span>{{ reservation.end ? reservation.end|date('Y-m-d H:i') : '' }}
                  </td>
                  <td class="text-center">
                        {{ reservation_state(reservation.state) }}
                  </td>
                  <td>
                      {% if workflow_can(reservation,'cancel_demand') %}
                         <a href="{{ path('reservation_workflow_user_approve', {'state': 'cancel_demand', 'id': reservation.id}) }}" class="btn btn-secondary">Cloturer</a>
                      {% endif %}
                      {% if workflow_can(reservation,'cancel_after')  %}
                         <a href="{{ path('reservation_workflow_user_approve', {'state': 'cancel_after', 'id': reservation.id}) }}" class="btn btn-secondary">Cloturer</a>
                      {% endif %}
                  </td>
               </tr>
            {% else %}
               <tr>
                  <td colspan="4">no records found</td>
               </tr>
            {% endfor %}
            </tbody>
         </table>
       </div>
    </div>
{% endblock %}

{% block title %}
Mes r√©servation
{% endblock %}

